/*
 *
 * Wijmo Library 1.3.0
 * http://wijmo.com/
 *
 * Copyright(c) ComponentOne, LLC.  All rights reserved.
 * 
 * Dual licensed under the Wijmo Commercial or GNU GPL Version 3 licenses.
 * licensing@wijmo.com
 * http://wijmo.com/license
 *
 *
 **/
(function(){"use strict";if(!window.Raphael)return;Raphael.prototype.htmlText=function(k,l,a,i,e,d){function h(b,a,d){var f=/<(b|strong)>/,e=/<(i|em)>/,c=/href=[\"\']([^\"\']+)[\"\']/,g=/<a/;d&&b.attr(d);f.test(a)&&b.attr("font-weight","bold");e.test(a)&&b.attr("font-style","italic");if(g.test(a))a.match(c)[1]&&b.attr("href",a.match(c)[1])}var j=a.toString().split(/<br\s?\/>|\\r/i),g=this,b=g.set(),c=0,f=0;e=e||3;d=d||5;jQuery.each(j,function(m,k){var j=0,l=k.split("|||");k=k.replace(/<([A-Za-z]+(.|\n)*?)>/g,"|||<$1>").replace(/<\/([A-Za-z]*)>/g,"</$1>|||");jQuery.each(l,function(o,l){var k=null,d=null,m=0,n=0;if(l!==""){k=l;k=jQuery.trim(k.replace(/<(.|\n)*?>/g,""));a=g.text(0,0,k);h(a,l,i);d=a.wijGetBBox();m=d.width/2+c;n=-d.height/2+f;c=c+d.width+e;a.translate(m,n);b.push(a);if(j<d.height)j=d.height}});f+=j+d;c=j=0});f=0;b.translate(k-b.getBBox().x,l-b.getBBox().y);return b};var b={content:"",contentStyle:{},title:"",titleStyle:{},style:{fill:"white","fill-opacity":.5},closeBehavior:"auto",mouseTrailing:true,triggers:"hover",animated:"fade",showAnimated:null,hideAnimated:null,duration:500,showDuration:500,hideDuration:500,easing:null,showEasing:null,hideEasing:null,showDelay:150,hideDelay:150,relativeTo:"mouse",compass:"east",offsetX:0,offsetY:0,showCallout:true,calloutFilled:false,calloutFilledStyle:{fill:"black"},calloutLength:12,calloutOffset:0,calloutAnimation:{easing:null,duration:500},calloutSide:null,width:null,height:null,beforeShowing:null};Raphael.fn.closeBtn=function(c,d,b){var a=Math.cos(Math.PI/4)*b,f=this.set(),h=["M",c-a,d-a,"L",c+a,d+a,"M",c-a,d+a,"L",c+a,d-a],g=this.path(h.concat(" ")),e=null;g.attr({cursor:"pointer"});f.push(g);e=this.rect(c-b,d-b,b*2,b*2);e.attr({fill:"white","fill-opacity":0,cursor:"pointer",stroke:"none"});f.push(e);return f};Raphael.fn.tooltip=function(l,T){var a=jQuery.extend(true,{},b,T),g=this,w=null,I=0,J=0,e,k,f,d,c,q=null,p=null,n=null,m=5,j=null,u=g.tooltip.animations,t=a.calloutOffset,y=a.width,x=a.height,r=a.calloutLength/2,o=0,h=0,i=0,P=function(c,d){var a=c.getBBox(),b={x:0,y:0};switch(d){case"east":b.x=a.x+a.width;b.y=a.y+a.height/2;break;case"eastnorth":b.x=a.x+a.width;b.y=a.y;break;case"eastsouth":b.x=a.x+a.width;b.y=a.y+a.height;break;case"west":b.x=a.x;b.y=a.y+a.height/2;break;case"westnorth":b.x=a.x;b.y=a.y;break;case"westsouth":b.x=a.x;b.y=a.y+a.height;break;case"north":b.x=a.x+a.width/2;b.y=a.y;break;case"northeast":b.x=a.x+a.width;b.y=a.y;break;case"northwest":b.x=a.x;b.y=a.y;break;case"south":b.x=a.x+a.width/2;b.y=a.y+a.height;break;case"southeast":b.x=a.x+a.width;b.y=a.y+a.height;break;case"southwest":b.x=a.x;b.y=a.y+a.height}return b},s=function(a){if(a){window.clearTimeout(a);a=null}},v=function(h){if(j){var b,g,i;if(a.hideAnimated||a.animated){b=a.hideAnimated;if(!b)b=a.animated;if(b&&u[b]){i={animated:b,duration:a.hideDuration||a.duration,easing:a.hideEasing||a.easing,context:j,show:false};u[b](i)}}g=a.hideDuration;if(h)g=h;window.setTimeout(function(){var a,b;if(e){e.wijRemove();e=null}if(k){k.wijRemove();k=null}if(f){f.wijRemove();f=null}if(d){for(a=0,b=d.length;a<b;a++)d[a].unclick();d.wijRemove();d=null}if(c){c.wijRemove();c=null}n=null;j=null},g)}},z=function(){q&&s(q);p&&s(p);if(a.hideDelay)p=window.setTimeout(function(){v()},a.hideDelay);else v()},B=function(b){var a="";switch(b){case"east":a="right-middle";h=2;i=0;break;case"eastnorth":a="right-top";h=2;i=-2;break;case"eastsouth":a="right-bottom";h=2;i=2;break;case"west":a="left-middle";h=-2;i=0;break;case"westnorth":a="left-top";h=-2;i=-2;break;case"westsouth":a="left-bottom";h=-2;i=2;break;case"north":a="top-middle";h=0;i=-2;break;case"northeast":a="top-right";h=2;i=-2;break;case"northwest":a="top-left";h=-2;i=-2;break;case"south":a="bottom-middle";h=0;i=2;break;case"southeast":a="bottom-right";h=2;i=2;break;case"southwest":a="bottom-left";h=-2;i=2}return a},E=function(c,b){var d=[],e=a.compass;if(a.calloutSide)e=a.calloutSide;switch(e){case"east":case"eastsouth":case"eastnorth":d=["M",c.x+b,c.y+b,"l",-b,-b,"l",b,-b,"Z"];break;case"west":case"westsouth":case"westnorth":d=["M",c.x-b,c.y-b,"l",b,b,"l",-b,b,"Z"];break;case"north":case"northeast":case"northwest":d=["M",c.x-b,c.y-b,"l",b,b,"l",b,-b,"Z"];break;case"south":case"southeast":case"southwest":d=["M",c.x-b,c.y+b,"l",b,-b,"l",b,b,"Z"]}return d},F=function(c,b){if(jQuery.isFunction(c)){var e=null,a,d={target:null,fmt:c};if(b&&b.target){a=jQuery(b.target).data("raphaelObj");if(!a)a=jQuery(b.target.parentNode).data("raphaelObj");d.target=a}e=jQuery.proxy(d.fmt,d);return e().toString()}return c},C=function(b){if(a.calloutSide){var d=r||o;switch(a.calloutSide){case"south":case"north":if(b)c.animate({translation:-y/2+d+t+",0"},b);else c.translate(-y/2+d+t,0);break;case"east":case"west":if(b)c.animate({translation:"0,"+(-x/2+d+t)},b);else c.translate(0,-x/2+d+t)}}},Q=/\{([^\}]+)\}/g,M=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,R=function(c,d,b){var a=b;d.replace(M,function(f,b,e,c,d){b=b||c;if(a){if(a[b]!=="string")a=a[b];if(typeof a==="function"&&d)a=a()}});a=(a===null||a===b?c:a).toString();return a},V=function(b,a){return String(b).replace(Q,function(b,c){return R(b,c,a)})},G=function(i,u,s,t,h){var o=u.split("-"),e=5,p=s.getBBox(),d=Math.round(p.width),c=Math.round(p.height),j=Math.round(p.x)-e,k=Math.round(p.y)-e,b=0,f=0,m=0,n=0,q=null,l=null,r=null;if(a.width)d=d>a.width?d:a.width;if(a.height)c=c>a.height?c:a.height;y=d;x=c;b=Math.min(c/4,d/4,t);if(h)h=Math.min(c/4,d/4,h);if(h){f=h;q={top:"M{x},{y}h{w4},{w4},{w4},{w4}a{r},{r},0,0,1,{r},{r}v{h4},{h4},{h4},{h4}a{r},{r},0,0,1,-{r},{r}l-{right},0-{offset},0,-{left},0a{r},{r},0,0,1-{r}-{r}v-{h4}-{h4}-{h4}-{h4}a{r},{r},0,0,1,{r}-{r}z",bottom:"M{x},{y}l{left},0,{offset},0,{right},0a{r},{r},0,0,1,{r},{r}v{h4},{h4},{h4},{h4}a{r},{r},0,0,1,-{r},{r}h-{w4}-{w4}-{w4}-{w4}a{r},{r},0,0,1-{r}-{r}v-{h4}-{h4}-{h4}-{h4}a{r},{r},0,0,1,{r}-{r}z",right:"M{x},{y}h{w4},{w4},{w4},{w4}a{r},{r},0,0,1,{r},{r}v{h4},{h4},{h4},{h4}a{r},{r},0,0,1,-{r},{r}h-{w4}-{w4}-{w4}-{w4}a{r},{r},0,0,1-{r}-{r}l0-{bottom},0-{offset},0-{top}a{r},{r},0,0,1,{r}-{r}z",left:"M{x},{y}h{w4},{w4},{w4},{w4}a{r},{r},0,0,1,{r},{r}l0,{top},0,{offset},0,{bottom}a{r},{r},0,0,1,-{r},{r}h-{w4}-{w4}-{w4}-{w4}a{r},{r},0,0,1-{r}-{r}v-{h4}-{h4}-{h4}-{h4}a{r},{r},0,0,1,{r}-{r}z"}}else q={top:"M{x},{y}h{w4},{w4},{w4},{w4}a{r},{r},0,0,1,{r},{r}v{h4},{h4},{h4},{h4}a{r},{r},0,0,1,-{r},{r}l-{right},0-{gap},{gap}-{gap}-{gap}-{left},0a{r},{r},0,0,1-{r}-{r}v-{h4}-{h4}-{h4}-{h4}a{r},{r},0,0,1,{r}-{r}z",bottom:"M{x},{y}l{left},0,{gap}-{gap},{gap},{gap},{right},0a{r},{r},0,0,1,{r},{r}v{h4},{h4},{h4},{h4}a{r},{r},0,0,1,-{r},{r}h-{w4}-{w4}-{w4}-{w4}a{r},{r},0,0,1-{r}-{r}v-{h4}-{h4}-{h4}-{h4}a{r},{r},0,0,1,{r}-{r}z",right:"M{x},{y}h{w4},{w4},{w4},{w4}a{r},{r},0,0,1,{r},{r}v{h4},{h4},{h4},{h4}a{r},{r},0,0,1,-{r},{r}h-{w4}-{w4}-{w4}-{w4}a{r},{r},0,0,1-{r}-{r}l0-{bottom}-{gap}-{gap},{gap}-{gap},0-{top}a{r},{r},0,0,1,{r}-{r}z",left:"M{x},{y}h{w4},{w4},{w4},{w4}a{r},{r},0,0,1,{r},{r}l0,{top},{gap},{gap}-{gap},{gap},0,{bottom}a{r},{r},0,0,1,-{r},{r}h-{w4}-{w4}-{w4}-{w4}a{r},{r},0,0,1-{r}-{r}v-{h4}-{h4}-{h4}-{h4}a{r},{r},0,0,1,{r}-{r}z"};l=([{x:j+e,y:k,w:d,w4:d/4,h4:c/4,left:0,right:d-b*2-f*2,top:0,bottom:c-b*2-f*2,r:e,h:c,gap:b,offset:f*2},{x:j+e,y:k,w:d,w4:d/4,h4:c/4,left:d/2-b-f,right:d/2-b-f,top:c/2-b-f,bottom:c/2-b-f,r:e,h:c,gap:b,offset:f*2},{x:j+e,y:k,w:d,w4:d/4,h4:c/4,right:0,left:d-b*2-f*2,bottom:0,top:c-b*2-f*2,r:e,h:c,gap:b,offset:f*2}])[o[1]==="middle"?1:(o[1]==="left"||o[1]==="top")*2];r=g.path(V(q[o[0]],l));switch(o[0]){case"top":m=i.x-(j+e+l.left+b+h);n=i.y-(k+e+c+e+b+h);break;case"bottom":m=i.x-(j+e+l.left+b+h);n=i.y-(k-b-h);break;case"left":m=i.x-(j+e+d+e+b+h);n=i.y-(k+e+l.top+b+h);break;case"right":m=i.x-(j-b-f);n=i.y-(k+e+l.top+b+f)}r.translate(m,n);s.translate(m,n);return r},L=function(f,d,e){var b=f.getBBox(),c=-1,a;if(b.x+e.x<0){c++;a=d.replace("west","east");if(a.indexOf("east")===-1)a+="east"}if(b.y+e.y<0){c++;a=d.replace("north","south");if(a.indexOf("south")===-1)a+="south"}if(b.x+b.width+e.x>g.width){c++;a=d.replace("east","west");if(a.indexOf("west")===-1)a+="west"}if(b.y+b.height+e.y>g.height){c++;a=d.replace("south","north");if(a.indexOf("north")===-1)a+="north"}return c?a:false},D=function(p,w){var s,q,D,b=g.set(),A=a.title,y=a.content,H=null,l=null,O=null,M=null,K=null,t=0,v=0,x=250,J=0,N=0,I,P;if(jQuery.isFunction(a.beforeShowing)){M=null;K={target:null,options:a,fmt:a.beforeShowing};if(w&&w.target){I=jQuery(w.target).data("raphaelObj");if(!I)I=jQuery(w.target.parentNode).data("raphaelObj");K.target=I}M=jQuery.proxy(K.fmt,K);M()}D=B(a.compass);p.x+=a.offsetX+h;p.y+=a.offsetY+i;j=g.set();k&&k.wijRemove();A=F(A,w);if(A&&A.length>0){k=g.htmlText(-1e3,-1e3,A,a.titleStyle);j.push(k);s=k.getBBox()}else s={left:-1e3,top:-1e3,width:0,height:0};e&&e.wijRemove();y=F(y,w);if(y&&y.length>0){e=g.htmlText(-1e3,-1e3,y,a.contentStyle);j.push(e);q=e.getBBox()}else q={left:-1e3,top:-1e3,width:0,height:0};if(d){for(J=0,N=d.length;J<N;J++)d[J].unclick();d.wijRemove()}e&&e.translate(0,s.height/2+q.height/2);if(a.closeBehavior==="sticky"){d=g.closeBtn(-1e3,-1e3,m);j.push(d);if(a.width&&a.width>s.width+m*2&&a.width>q.width+m*2)d.translate(a.width-m,m);else if(s.width>=q.width-m*2)d.translate(s.width+m,m);else d.translate(q.width-m,m);jQuery.each(d,function(){this.click(function(a){z(a)})})}k&&b.push(k);e&&b.push(e);d&&b.push(d);if(!a.showCallout)r=0;if(a.calloutSide||a.calloutFilled){r=0;o=a.calloutLength/2;if(a.calloutSide)D=B(a.calloutSide)}if(a.calloutSide&&b.length===0){e=g.htmlText(-1e3,-1e3," ");b.push(e)}c&&c.wijRemove();f&&f.wijRemove();f=g.path();if(n){if(a.calloutSide||a.calloutFilled){H=E(n,o);c=g.path(H.concat(" "));a.calloutFilled&&c.attr(a.calloutFilledStyle);a.calloutSide&&C(0)}f=G(n,D,b,r,o);j.push(c);j.push(f);t=p.x-n.x;v=p.y-n.y;k&&k.animate({translation:t+","+v},x);e&&e.animate({translation:t+","+v},x);d&&d.animate({translation:t+","+v},x);c&&c.animate({translation:t+","+v},x);f&&f.animate({translation:t+","+v},x)}else{if(a.calloutSide||a.calloutFilled){H=E(p,o);c=g.path(H.concat(" "));a.calloutFilled&&c.attr(a.calloutFilledStyle);a.calloutSide&&C(0)}f=G(p,D,b,r,o);P=L(f,a.compass,{x:0,y:0});j.push(c);j.push(f);if(a.showAnimated||a.animated){l=a.showAnimated;if(!l)l=a.animated;if(l&&u[l]){O={animated:l,duration:a.showDuration||a.duration,easing:a.showEasing||a.easing,context:j,show:true};u[l](O)}}}n=p;f.attr(a.style);f.toFront();b.toFront()},K=function(b,c){q&&s(q);p&&s(p);if(a.showDelay)q=window.setTimeout(function(){D(b,c)},a.showDelay);else D(b,c)},A=function(b){w=jQuery(g.canvas.parentNode).offset();I=w.left;J=w.top;var e=a.relativeTo,d={x:0,y:0},c=null;switch(e){case"mouse":d.x=b.pageX-I;d.y=b.pageY-J;break;case"element":c=jQuery(b.target).data("raphaelObj");if(!c)c=jQuery(b.target.parentNode).data("raphaelObj");d=P(c,a.compass)}K(d,b)},H=function(b){jQuery(b.node).data("raphaelObj",b);switch(a.triggers){case"hover":jQuery(b.node).bind("mouseover.Rtooltip",function(a){A(a)}).bind("mouseout.Rtooltip",function(b){a.closeBehavior==="auto"&&z(b)});a.mouseTrailing&&a.relativeTo==="mouse"&&jQuery(b.node).bind("mousemove.Rtooltip",function(a){A(a)});break;case"click":jQuery(b.node).bind("click.Rtooltip",function(a){A(a)})}},O=function(){var a,b;if(l)if(l.length)for(a=0,b=l.length;a<b;a++)H(l[a]);else H(l)},N=function(){var a,b;if(l)if(l.length)for(a=0,b=l.length;a<b;a++)jQuery(l[a].node).unbind(".Rtooltip");else jQuery(l.node).unbind(".Rtooltip")},S=function(){N();v(0)},U=function(){this.hide=function(){z()};this.showAt=function(a){K(a)};this.resetCalloutOffset=function(e){var f=a.calloutOffset,b=a.calloutSide,d=a.calloutAnimation;if(c)if(b==="south"||b==="north")c.animate({translation:e-f+",0"},d.duration,d.easing);else(b==="east"||b==="west")&&c.animate({translation:"0,"+(e-f)},d.duration,d.easing);a.calloutOffset=e};this.destroy=function(){S()};this.getOptions=function(){return a}};l&&O();return new U};Raphael.fn.tooltip.animations={fade:function(a){var b=a.context;if(a.show){b.attr({opacity:0});b.animate({opacity:1},a.duration,a.easing)}else b.animate({opacity:0},a.duration,a.easing)}};Raphael.fn.wij={moveTo:function(a,b){return this.path("M "+a+" "+b)},lineTo:function(a,b){return this.path("M "+this.wij.lastX+" "+this.wij.lastY+"L "+a+" "+b)},line:function(a,b,c,d){return this.path(["M",a,b,"L",c,d])},sector:function(b,c,a,d,e){var f=this.wij.getPositionByAngle(b,c,a,d),g=this.wij.getPositionByAngle(b,c,a,e);return this.path(["M",b,c,"L",f.x,f.y,"A",a,a,0,+(e-d>180),0,g.x,g.y,"z"])},donut:function(d,e,b,a,f,g){var c=this.wij.getPositionByAngle(d,e,b,f),k=this.wij.getPositionByAngle(d,e,b,g),j=this.wij.getPositionByAngle(d,e,a,f),i=this.wij.getPositionByAngle(d,e,a,g),h=g-f>180;return this.path(["M",c.x,c.y,"A",b,b,0,+h,0,k.x,k.y,"L",i.x,i.y,"A",a,a,0,+h,1,j.x,j.y,"L",c.x,c.y,"z"])},roundRect:function(l,m,e,d,k,i,h,j){var a=[],c=[-1,1,1,1,1,-1,-1,-1],g=["v","h","v","h"],b=null,f=null;jQuery.each([k,i,h,j],function(c,b){if(typeof b==="number")a=a.concat({x:b,y:b});else if(typeof b==="object")a=a.concat(b);else a=a.concat({x:0,y:0})});b=["M",l+a[0].x,m];f=[d-a[0].y-a[1].y,e-a[1].x-a[2].x,a[2].y+a[3].y-d,a[3].x+a[0].x-e];jQuery.each(a,function(d,a){if(a.x&&a.y)b=b.concat("a",a.x,a.y,0,0,0,c[2*d]*a.x,c[2*d+1]*a.y);b=b.concat(g[d],f[d])});b.push("z");return this.path(b)},wrapText:function(n,o,m,h,l,g){var e=this,d=g.rotation,j=d?jQuery.extend(true,{},g,{rotation:0}):g,f=o,c=e.set(),a=null,b=null,i=[];function k(j,i,h){var b=null,g=null,a=j.split(" "),f=[],c=[],d="";while(a.length){d+=" "+a[0];b=e.text(-1e3,-1e3,d);b.attr(h);g=b.wijGetBBox();if(g.width>i){if(c.length){f.push(c);d=a[0]}c=[a.shift()]}else c.push(a.shift());a.length===0&&f.push(c);b.wijRemove();b=null}return f}jQuery.each(k(m,h,j),function(p,o){var k=o.join(" "),m=l||"near",g=e.text(n,f,k),b=0,d=0;g.attr(j);a=g.wijGetBBox();switch(m){case"near":b=h-a.width/2;d+=a.height/2;f+=a.height;break;case"center":b+=h/2;d+=a.height/2;f+=a.height;break;case"far":b+=a.width/2;d+=a.height/2;f+=a.height}a.x+=b;a.y+=d;g.translate(b,d);c.push(g);i.push(a)});if(d)if(c.length>1){a=c.wijGetBBox();b={x:a.x+a.width/2,y:a.y+a.height/2};jQuery.each(c,function(m,l){var g=Math,h=i[m],c={x:h.x+h.width/2,y:h.y+h.height/2},k=g.sqrt(g.pow(c.x-b.x,2)+g.pow(c.y-b.y,2)),a=0,f=null,j=null;l.attr({rotation:d});if(k===0)return true;a=Raphael.deg(g.asin(g.abs(c.y-b.y)/k));if(c.y>b.y)if(c.x>b.x)a-=360;else a=-1*(a+180);else if(c.x>b.x)a*=-1;else a=-1*(180-a);j=e.wij.getPositionByAngle(b.x,b.y,k,-1*(d+a));f=l.wijGetBBox();l.translate(j.x-f.x-f.width/2,j.y-f.y-f.height/2)})}else c[0].attr({rotation:d});return c},getPositionByAngle:function(e,f,c,d){var a={},b=Raphael.rad(d);a.x=e+c*Math.cos(-1*b);a.y=f+c*Math.sin(-1*b);return a},getSVG:function(){function l(e,b){var a="<"+e+" ",c=null,d=false;jQuery.each(b,function(b,c){if(b==="text"||b==="opacity"||b==="transform"||b==="path"||b==="w"||b==="h"||b==="translation")return true;if(c){if(b==="stroke"&&c===0)c="none";a+=b+"='"+c+"' "}});if(b.opacity){c=b.opacity;a+="opacity='"+c+"' style='opacity:"+c+";";d=true}if(b.transform&&b.transform.length>0){c=b.transform;if(d)a+="transform:"+c;else{a+="style='transform:"+c;d=true}}if(d)a+="'";if(b.text){c=b.text;a+="><tspan>"+c+"</tspan>"}else a+=">";a+="</"+e+">";return a}for(var g=this,j='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="'+g.canvas.offsetWidth+'" height="'+g.canvas.offsetHeight+'"><desc>Created with Raphael</desc><defs></defs>',c="",h,f,d,e=0,k=0,b=0,i=0,a=g.bottom;a;a=a.next)if(a&&a.type)switch(a.type){case"path":for(e=0,k=a.attrs.path.length;e<k;e++){f=a.attrs.path[e];for(b=0,i=f.length;b<i;b++){d=f[b];if(b<1)c+=d;else if(b===i-1)c+=d;else c+=d+","}}if(c&&c.length>0)a.attrs.d=c.replace(/,/g," ");break;case"text":if(!a.attrs["text-anchor"])a.attrs["text-anchor"]="middle";break;case"image":h=a.transformations;a.attrs.transform=h?h.join(" "):"";break;case"ellipse":case"rect":j+=l(a.type,a.attrs)}j+="</svg>";return j}};Raphael.el.wijRemove=function(){if(this.removed)return;this.node.parentNode&&this.remove()};Raphael.st.wijRemove=function(){jQuery.each(this,function(b,a){a.wijRemove&&a.wijRemove()})};Raphael.el.wijGetBBox=function(){var a=this.getBBox(),d=null,c=[],e,f,j,i,g,b={left:0,right:0,top:0,bottom:0},h=0;if(this.attrs&&this.attrs.rotation){d=this._.rt.deg*Math.PI/180;c.push({x:0,y:0});c.push({x:a.width,y:0});c.push({x:0,y:a.height});c.push({x:a.width,y:a.height});for(h=0;h<c.length;h++){g=c[h];e=parseInt(g.x*Math.cos(d)+g.y*Math.sin(d),10);f=parseInt(g.x*Math.sin(d)+g.y*Math.cos(d),10);b.left=Math.min(b.left,e);b.right=Math.max(b.right,e);b.top=Math.min(b.top,f);b.bottom=Math.max(b.bottom,f)}j=parseInt(Math.abs(b.right-b.left),10);i=parseInt(Math.abs(b.bottom-b.top),10);e=a.x+a.width/2-j/2;f=a.y+a.height/2-i/2;return{x:e,y:f,width:j,height:i}}a=this.getBBox();if(Raphael.vml&&this.type==="text"){this.shape.style.display="inline";a.width=this.shape.scrollWidth;a.height=this.shape.scrollHeight}return a};Raphael.el.wijAnimate=function(a,g,b,e){var d=this.shadow,c=0,f={easeInCubic:">",easeOutCubic:"<",easeInBack:"backIn",easeOutBack:"backOut",easeOutElastic:"elastic",easeOutBounce:"bounce"};if(f[b])b=f[b];this.animate(a,g,b,e);if(d&&d.offset){c=d.offset;if(a.x)a.x+=c;if(a.y)a.y+=c;this.shadow.animate(a,g,b,e)}};Raphael.el.wijAttr=function(a,c){this.attr(a,c);if(this.shadow)if(typeof a==="object"){var b=jQuery.extend(true,{},a);if(b.fill)delete b.fill;if(b.stroke)delete b.stroke;if(b["stroke-width"])delete b["stroke-width"];this.shadow.attr(b,c)}else if(typeof a==="string")switch(a){case"clip-rect":case"cx":case"cy":case"fill-opacity":case"font":case"font-family":case"font-size":case"font-weight":case"height":case"opacity":case"path":case"r":case"rotation":case"rx":case"ry":case"scale":case"stroke-dasharray":case"stroke-linecap":case"stroke-linejoin":case"stroke-miterlimit":case"stroke-opacity":case"stroke-width":case"translation":case"width":this.shadow.attr(a,c);break;case"x":this.shadow.attr(a,c);this.shadow.attr("translation","1 0");break;case"y":this.shadow.attr(a,c);this.shadow.attr("translation","0 1")}};Raphael.st.wijAttr=function(b,a){jQuery.each(this.items,function(d,c){c.wijAttr(b,a)});return this};Raphael.st.wijAnimate=function(f,g,e,d){var a=0,c=0,b=null;for(a=0,c=this.items.length;a<c;a++){b=this.items[a];b.wijAnimate(f,g,e,d)}return this};Raphael.st.wijGetBBox=function(){for(var b=[],c=[],j=[],i=[],g=Math.max,h=Math.min,e="push",d="apply",a=null,f=0,f=this.items.length-1;f>=0;f--){a=this.items[f].wijGetBBox();b[e](a.x);c[e](a.y);j[e](a.x+a.width);i[e](a.y+a.height)}b=h[d](0,b);c=h[d](0,c);return{x:b,y:c,width:g[d](0,j)-b,height:g[d](0,i)-c}};function a(a){var b="http://www.w3.org/2000/svg";return a.nodeType===1&&a.namespaceURI===b}jQuery.expr.filter.CLASS=function(b,d){var c=!a(b)?b.className:b.className?b.className.baseVal:b.getAttribute("class");return(" "+c+" ").indexOf(d)>-1};jQuery.expr.preFilter.CLASS=function(d,f,g,h,j,i){var c=0,b=null,e=null;d=" "+d[1].replace(/\\/g,"")+" ";if(i)return d;for(c=0,b={};b;c++){b=f[c];if(!b)try{b=f.item(c)}catch(k){}if(b){e=!a(b)?b.className:(b.className?b.className.baseVal:"")||b.getAttribute("class");if(j^(e&&(" "+e+" ").indexOf(d)>-1))!g&&h.push(b);else if(g)f[c]=false}}return false}})();(function(a){"use strict";a.widget("wijmo.wijchartcore",{options:{width:null,height:null,seriesList:[],seriesStyles:[{stroke:"#77b3af",opacity:.9,"stroke-width":1},{stroke:"#67908e",opacity:.9,"stroke-width":1},{stroke:"#465d6e",opacity:.9,"stroke-width":1},{stroke:"#5d3f51",opacity:.9,"stroke-width":1},{stroke:"#682e32",opacity:.9,"stroke-width":1},{stroke:"#8c5151",opacity:.9,"stroke-width":1},{stroke:"#ce9262",opacity:.9,"stroke-width":1},{stroke:"#ceb664",opacity:.9,"stroke-width":1},{stroke:"#7fb34f",opacity:.9,"stroke-width":1},{stroke:"#2a7b5f",opacity:.9,"stroke-width":1},{stroke:"#6079cb",opacity:.9,"stroke-width":1},{stroke:"#60a0cb",opacity:.9,"stroke-width":1}],seriesHoverStyles:[{opacity:1,"stroke-width":1.5},{opacity:1,"stroke-width":1.5},{opacity:1,"stroke-width":1.5},{opacity:1,"stroke-width":1.5},{opacity:1,"stroke-width":1.5},{opacity:1,"stroke-width":1.5},{opacity:1,"stroke-width":1.5},{opacity:1,"stroke-width":1.5},{opacity:1,"stroke-width":1.5},{opacity:1,"stroke-width":1.5},{opacity:1,"stroke-width":1.5},{opacity:1,"stroke-width":1.5}],marginTop:25,marginRight:25,marginBottom:25,marginLeft:25,textStyle:{fill:"#888","font-size":"10pt",stroke:"none"},header:{text:"",style:{fill:"none",stroke:"none"},textStyle:{"font-size":"18pt",fill:"#666",stroke:"none"},compass:"north",orientation:"horizontal",visible:true},footer:{text:"",style:{fill:"#fff",stroke:"none"},textStyle:{fill:"#000",stroke:"none"},compass:"south",orientation:"horizontal",visible:false},legend:{text:"",textMargin:{left:2,top:2,right:2,bottom:2},style:{fill:"none",stroke:"none"},textStyle:{fill:"#333",stroke:"none"},titleStyle:{"font-weight":"bold",fill:"#000",stroke:"none"},compass:"east",orientation:"vertical",visible:true},axis:{x:{alignment:"center",style:{stroke:"#999999","stroke-width":.5},visible:true,textVisible:true,text:"",textStyle:{fill:"#888","font-size":"15pt","font-weight":"bold"},labels:{style:{fill:"#333","font-size":"11pt"},textAlign:"near",width:null},compass:"south",autoMin:true,autoMax:true,min:null,max:null,autoMajor:true,autoMinor:true,unitMajor:null,unitMinor:null,gridMajor:{visible:false,style:{stroke:"#CACACA","stroke-dasharray":"- "}},gridMinor:{visible:false,style:{stroke:"#CACACA","stroke-dasharray":"- "}},tickMajor:{position:"none",style:{fill:"black"},factor:1},tickMinor:{position:"none",style:{fill:"black"},factor:1},annoMethod:"values",annoFormatString:"",valueLabels:[]},y:{alignment:"center",style:{stroke:"#999999","stroke-width":.5},visible:false,textVisible:true,text:"",textStyle:{fill:"#888","font-size":"15pt","font-weight":"bold"},labels:{style:{fill:"#333","font-size":"11pt"},textAlign:"center",width:null},compass:"west",autoMin:true,autoMax:true,min:null,max:null,autoMajor:true,autoMinor:true,unitMajor:null,unitMinor:null,gridMajor:{visible:true,style:{stroke:"#999999","stroke-width":"0.5","stroke-dasharray":"none"}},gridMinor:{visible:false,style:{stroke:"#CACACA","stroke-dasharray":"- "}},tickMajor:{position:"none",style:{fill:"black"},factor:1},tickMinor:{position:"none",style:{fill:"black"},factor:1},annoMethod:"values",annoFormatString:"",valueLabels:[]}},hint:{enable:true,content:null,contentStyle:{fill:"#d1d1d1","font-size":"16pt"},title:null,titleStyle:{fill:"#d1d1d1","font-size":"16pt"},style:{fill:"270-#333333-#000000","stroke-width":"2"},animated:"fade",showAnimated:"fade",hideAnimated:"fade",duration:120,showDuration:120,hideDuration:120,easing:"",showEasing:"",hideEasing:"",showDelay:150,hideDelay:150,compass:"north",offsetX:0,offsetY:0,showCallout:true,calloutFilled:false,calloutFilledStyle:{fill:"#000"}},showChartLabels:true,chartLabelStyle:{},chartLabelFormatString:"",disableDefaultTextStyle:false,shadow:true,beforeSeriesChange:null,seriesChanged:null,beforePaint:null,painted:null},innerState:{},_setOption:function(d,e){var f=this,b=f.options,j=null,i=b.seriesList.length,c=0,h,g;if(d==="seriesList"){if(!e)e=[];j=a.Event("beforeserieschange");if(f._trigger("beforeSeriesChange",j,{oldSeriesList:b.seriesList,newSeriesList:e})===false)return false;b.seriesList=e;f._trigger("seriesChanged",null,e);f.seriesTransition=true}else if(a.isPlainObject(b[d]))a.extend(true,b[d],e);else a.Widget.prototype._setOption.apply(f,arguments);if(d==="seriesTransition"||d==="animation")return;if(d==="seriesList"||d==="seriesStyles")for(h=b.seriesStyles.length,c=h;c<i;c++)b.seriesStyles[c]=b.seriesStyles[c%h];if(d==="seriesList"||d==="seriesHoverStyles"){g=b.seriesHoverStyles.length;for(c=g;c<i;c++)b.seriesHoverStyles[c]=b.seriesHoverStyles[c%g]}f.redraw()},_create:function(){var b=this,f=b.options,e=f.width||b.element.width(),d=f.height||b.element.height(),c=null;b.updating=0;b.innerState={};if(b.element.length>0){if(b.element.is("table")){b._parseTable();c=a("<div></div>");e&&c.css("width",e);d&&c.css("height",d);b.element.after(c);b.chartElement=c}else b.chartElement=b.element;b.chartElement.addClass("ui-widget");b.canvas=new Raphael(b.chartElement[0],e,d)}b.headerEles=[];b.footerEles=[];b.legendEles=[];b.axisEles=[];b.legends=[];b.legendIcons=[];b.chartLabelEles=[]},_init:function(){var a=this;if(!a.rendered){a._paint();a.rendered&&a._bindLiveEvents()}},destroy:function(){var b=this;b._unbindLiveEvents();b._clearChartElement();b.chartElement.removeClass("ui-widget");b.element!==b.chartElement&&b.chartElement.remove();a.Widget.prototype.destroy.apply(b,arguments)},getCanvas:function(){return this.canvas},addSeriesPoint:function(c,e,f){var b=this.options.seriesList,d=null,a=null;if(c>=b.length)return;d=b[c];a=d.data||[];a.x.push(e.x);a.y.push(e.y);if(f){a.x.shift();a.y.shift()}this._setOption("seriesList",b)},beginUpdate:function(){var a=this;a.updating++},endUpdate:function(){var a=this;a.updating--;a.redraw()},redraw:function(e){var a=this,d=a.options,c=0,b=0;if(a.updating>0)return;if(e&&a.rendered)return;c=d.width||a.element.width();b=d.height||a.element.height();if(c<1||b<1)return;a.canvas.setSize(c,b);a._unbindLiveEvents();a._paint();a._bindLiveEvents()},getSVG:function(){return Raphael.type==="SVG"?this.chartElement.html():this.canvas.wij.getSVG()},exportChart:function(){var b=document.createElement("form"),c=this.getSVG();b.action="http://export.highcharts.com/";b.method="post";b.style.display="none";document.body.appendChild(b);a.each(["filename","type","width","svg"],function(f,e){var d=document.createElement("input");a(d).attr("name",e).attr("type","hidden").attr("value",({filename:"chart",type:"image/png",width:600,svg:c})[e]);b.appendChild(d)});b.submit();document.body.removeChild(b)},round:function(d,c){var b=Math.pow(10,c),a=d*b;a=Math.round(a);return a/b},_parseTable:function(){if(!this.element.is("table"))return;var d=this,e=d.element,b=d.options,c=a("caption",e),g=a("thead th",e),f=[],h=a("tbody tr",e);if(c.length){b.header=a.extend({visible:true,text:a.trim(a(c[0]).text())},b.header);if(c.length>1)b.footer=a.extend({visibel:true,text:a.trim(a(c[1]).text())},b.footer)}b.legend=a.extend({visible:true},b.legend);d._getSeriesFromTR(g,h,f);d.options.seriesList=f},_getSeriesFromTR:function(d,h,l){var e=[],i=null,k=null,g=null,b=null,c=null,j=null,f=null;d.length&&d.each(function(){i=a.trim(a(this).text());e.push(i)});h.length&&h.each(function(){k=a("th",a(this));g=a.trim(k.text());b=[];c=a("td",a(this));c.length&&c.each(function(){j=a(this);b.push(parseFloat(a.trim(j.text())))});f={label:g,legendEntry:true,data:{x:e,y:b}};l.push(f)})},_clearChartElement:function(){var b=this;if(b.headerEles.length){a.each(b.headerEles,function(b,a){a.wijRemove();a=null});b.headerEles=[]}if(b.footerEles.length){a.each(b.footerEles,function(b,a){a.wijRemove();a=null});b.footerEles=[]}if(b.legendEles.length){a.each(b.legendEles,function(b,a){a.wijRemove();a=null});b.legendEles=[]}if(b.legends.length){a.each(b.legends,function(b,a){a.wijRemove();a=null});b.legends=[]}if(b.legendIcons.length){a.each(b.legendIcons,function(b,a){a.wijRemove();a=null});b.legendIcons=[]}if(b.axisEles.length){a.each(b.axisEles,function(b,a){a.wijRemove();a=null});b.axisEles=[]}if(b.chartLabelEles.length){a.each(b.chartLabelEles,function(b,a){a.wijRemove();a=null});b.chartLabelEles=[]}b.canvas.clear();b.innerState={}},_text:function(c,d,b){var a=this.canvas.text(c,d,b);if(this.options.disableDefaultTextStyle)a.node.style.cssText="";return a},_getDiffAttrs:function(d,b){var c={};a.each(b,function(a){if(typeof d[a]==="undefined")c[a]=b[a];else if(d[a]!==b[a])c[a]=b[a]});return c},_paintShadow:function(c,a,d){if(this.options.shadow){a=a||1;d=d||"#CCCCCC";var b=c.clone();b.insertBefore(c);b.attr({translation:a+" "+a,stroke:d,"stroke-width":a});b.toBack();b.offset=a;c.shadow=b}},_paint:function(){var b=this,f=b.options,a=b.element,e=a.css("display")==="none"||a.css("visibility")==="hidden",d={},c=null;if(e){d=a.css("left");c=a.css("position");a.css("left","-10000px");a.css("position","absolute");a.show()}if(a.is(":hidden"))return;b._clearChartElement();if(b._trigger("beforePaint")===false)return;b.canvasBounds={startX:0,endX:f.width||a.width(),startY:0,endY:f.height||a.height()};b._paintHeader();b._paintFooter();b._paintLegend();b._paintChartArea();b._paintChartLabels();b._trigger("painted");b.rendered=true;if(e){a.css("left",d);a.css("position",c);a.hide()}},_calculatePosition:function(g,f,e){var b={x:0,y:0},c=5,d=5,a=this.canvasBounds;switch(g){case"north":b.x=(a.endX-a.startX)/2;b.y=a.startY+e/2+d;a.startY=a.startY+d*2+e;break;case"south":b.x=(a.endX-a.startX)/2;b.y=a.endY-e/2-d;a.endY=a.endY-d*2-e;break;case"east":b.x=a.endX-f/2-c;b.y=(a.endY-a.startY)/2;a.endX=a.endX-c*2-f;break;case"west":b.x=a.startX+f/2+c;b.y=(a.endY-a.startY)/2;a.startX=a.startX+c*2+f}return b},_paintHeader:function(){var g=2,d=this,l=d.options,b=l.header,k=null,c=null,j=null,i=null,h=null,e=null,f=null;if(b.text&&b.text.length>0&&b.visible){k=b.compass;c=d._text(0,0,b.text);j=a.extend(true,{},l.textStyle,b.textStyle);c.attr(j);i=c.wijGetBBox();h=d._calculatePosition(k,i.width,i.height);c.translate(h.x,h.y);e=c.wijGetBBox();f=d.canvas.rect(e.x-g,e.y-g,e.width+2*g,e.height+2*g);f.attr(b.style);f.toBack();d.headerEles.push(c);d.headerEles.push(f)}},_paintFooter:function(){var g=2,d=this,l=d.options,b=l.footer,k=null,c=null,j=null,i=null,h=null,e=null,f=null;if(b.text&&b.text.length>0&&b.visible){k=b.compass;c=d._text(0,0,b.text);j=a.extend(true,{},l.textStyle,b.textStyle);c.attr(j);i=c.wijGetBBox();h=d._calculatePosition(k,i.width,i.height);c.translate(h.x,h.y);e=c.wijGetBBox();f=d.canvas.rect(e.x-g,e.y-g,e.width+2*g,e.height+2*g);f.attr(b.style);f.toBack();d.footerEles.push(c);d.footerEles.push(f)}},_paintLegend:function(){var f=this,s=f.options,e={size:{width:22,height:10}},g=2,E=s.seriesList,H=s.seriesStyles,C=E,m,o,h,F,d,b,u=f.canvasBounds,w=u.endX-u.startX,v=u.endY-u.startY,j=0,D=0,i=0,l=0,k=0,q=0,p=0,c=1,G=0,r=0,x=0,A=0,n=0,B,y,z,t;a.extend(true,e,s.legend);if(!e.visible)return;m=e.compass;o=e.orientation;j=e.size.width;D=e.size.height;if(e.text&&e.text.length){h=f._text(0,0,e.text);F=a.extend(true,{},s.textStyle,e.textStyle,e.titleStyle);h.attr(F);f.legendEles.push(h)}if(e.reversed)C=[].concat(E).reverse();a.each(C,function(l,b){b=a.extend({legendEntry:true},b);var i=H[l],k=a.extend(true,{fill:"none",opacity:1,stroke:"black"},i),d,g,h,c;if(b.legendEntry){d=f._text(0,0,b.label);g=a.extend(true,{},s.textStyle,e.textStyle);d.attr(g);f.legends.push(d);h=a.extend(k,{"stroke-width":1});c=f.canvas.rect(0,0,j,D);c.attr(h);f.legendIcons.push(c)}});d=f.legends.length;b=e.textMargin;if(h)i=h.wijGetBBox().height;a.each(f.legends,function(c,b){var a=b.wijGetBBox();if(a.width>l)l=a.width;if(a.height>k)k=a.height});if(m==="east"||m==="west"){if(o==="horizontal"){q=d*(l+j+g)+d*(b.left+b.right);if(q>w/2){c=Math.floor(w/2/l);if(c<1)c=1}else c=d}else if(o==="vertical"){p=k*d+i+d*(b.top+b.bottom);if(p>v)c=Math.ceil(p/v);else c=1}}else if(m==="south"||m==="north")if(o==="horizontal"){q=(l+j+g)*d+d*(b.left+b.right);if(q>w){c=Math.floor(d/q*w);if(c<1)c=1}else c=d}else if(o==="vertical"){p=k*d+i+d*(b.top+b.bottom);if(p>v/2){G=Math.floor(v-i)/2/k;c=Math.ceil(d/G)}else c=1}r=c*(l+j+g)+c*(b.left+b.right);x=k*Math.ceil(d/c)+i+Math.ceil(d/c)*(b.top+b.bottom);B=f._calculatePosition(m,r,x);y=B.x-r/2;z=B.y-x/2;t=f.canvas.rect(y-g,z-g,r+2*g,x+2*g);t.attr(e.style);t.toBack();f.legendEles.push(t);h&&h.translate(y+r/2,z+i/2);A=i;a.each(f.legends,function(m,a){var d=a.wijGetBBox(),e=f.legendIcons[m],h=y+n*(j+l+g)+(n+1)*b.left+n*b.right,i=z+A+d.height/2+b.top;e.translate(h,i-e.wijGetBBox().height/2);a.translate(h+j+g+d.width/2,i);a.toFront();n++;if(n===c){n=0;A+=k+b.top+b.bottom}})},_hasAxes:function(){return this.widgetName==="wijpiechart"?false:true},_applyAxisText:function(h){var i=this,j=h.text,c=null,g=null,b=null,e=0,d=0,f=i.canvasBounds;if(j&&j.length>0){g=i._text(-100,-100,j);b=a.extend(true,{},i.options.textStyle,h.textStyle);g.attr(b);c=g.wijGetBBox();if(b["margin-left"])d+=parseFloat(b["margin-left"]);if(b["margin-top"])e+=parseFloat(b["margin-top"]);if(b["margin-right"])d+=parseFloat(b["margin-right"]);if(b["margin-bottom"])e+=parseFloat(b["margin-bottom"]);switch(h.compass){case"north":f.startY+=c.height+e;break;case"south":f.endY-=c.height+e;break;case"east":f.endX-=c.height+d;break;case"west":f.startX+=c.height+d}g.wijRemove()}return c},_paintChartArea:function(){var b=this,m=b.options,c=m.axis,i=m.seriesList,j=2,k=null,l=null,d=null,h=5,g=false,e=0,f=0;b._applyMargins();if(!i||i.length===0)return;a.each(i,function(c,a){if(b._isPieChart()){if(!a.data||!a.label||a.label.length===0)g=true}else if(!a.data||(!a.data.x||!a.data.y)&&!a.data.xy)g=true});if(g)return;if(b._hasAxes()){if(b.innerState.axisInfo){b.axisInfo=b.innerState.axisInfo;b.canvasBounds=b.innerState.canvasBounds}else{k=b._applyAxisText(c.x,{});l=b._applyAxisText(c.y,{});b.axisInfo={x:{id:"x",tprec:0,isTime:false,offset:0,vOffset:0,max:0,min:0,majorTickRect:null,minorTickRect:null,annoFormatString:null,textBounds:k,axisTextOffset:j,autoMax:true,autoMin:true,autoMajor:true,autoMinor:true},y:{id:"y",tprec:0,isTime:false,offset:0,vOffset:0,max:0,min:0,majorTickRect:null,minorTickRect:null,annoFormatString:null,textBounds:l,axisTextOffset:j,autoMax:true,autoMin:true,autoMajor:true,autoMinor:true}};d=b._getDataExtreme();if(c.x.autoMin&&b.axisInfo.x.autoMin)c.x.min=d.txn;else if(c.x.min&&b._isDate(c.x.min))c.x.min=b._toOADate(c.x.min);if(c.x.autoMax&&b.axisInfo.x.autoMax)c.x.max=d.txx;else if(c.x.max&&b._isDate(c.x.max))c.x.max=b._toOADate(c.x.max);if(c.y.autoMin&&b.axisInfo.y.autoMin)c.y.min=d.tyn;else if(c.y.min&&b._isDate(c.y.min))c.y.min=b._toOADate(c.y.min);if(c.y.autoMax&&b.axisInfo.y.autoMax)c.y.max=d.tyx;else if(c.y.max&&b._isDate(c.y.max))c.y.max=b._toOADate(c.y.max);do{f=b._autoPosition(b.axisInfo.y,c.y);e=b._autoPosition(b.axisInfo.x,c.x);if(f===b.axisInfo.y.offset&&e===b.axisInfo.x.offset){h=0;break}if(f!==b.axisInfo.y.offset){b.axisInfo.y.offset=f;b.axisInfo.y.vOffset=e}if(e!==b.axisInfo.x.offset){b.axisInfo.x.offset=e;b.axisInfo.x.vOffset=f}h--}while(h>0);b._adjustPlotArea(c.x,b.axisInfo.x);b._adjustPlotArea(c.y,b.axisInfo.y);b.innerState.axisInfo=b.axisInfo;b.innerState.canvasBounds=b.canvasBounds}b._paintAxes();b._paintPlotArea()}else b._paintPlotArea()},_adjustPlotArea:function(c,a){var b=this.canvasBounds;c.max=a.max;c.min=a.min;switch(c.compass){case"north":b.startY+=a.offset;break;case"south":b.endY-=a.offset;break;case"east":b.endX-=a.offset;break;case"west":b.startX+=a.offset}},_autoPosition:function(b,a){return this._autoPositionCartesianAxis(b,a)},_autoPositionCartesianAxis:function(c,a){var b=null,d=this;d._calculateParameters(c,a);b=d._getMaxExtents(c,a);switch(a.compass){case"north":case"south":return b.height;case"east":case"west":return b.width}},_getMaxExtents:function(b,c,n){var d=this,o=d.options,i=null,e={width:0,height:0},t=b.min,s=b.max,r=b.isTime,g=c.annoFormatString,q=o.is100Percent,k=0,p=c.compass,h=c.labels,f,l=false,m=d.canvasBounds,j;b.majorTickRect=d._getTickRect(b,c,true,true,n);b.minorTickRect=d._getTickRect(b,c,false,true,n);i=d._getMajorTickValues(b,c);if(!g||g.length===0)g=b.annoFormatString;f=a.extend(true,{},o.textStyle,c.textStyle,h.style);l=typeof f.rotation!=="undefined";f=a.extend(true,f,b.textStyle);j=m.endX-m.startX-b.vOffset-b.axisTextOffset;if(i&&i.length){j=j/(i.length-1);a.each(i,function(u,i){var m,n,o;if(i<t||i>s)return true;if(c.annoMethod==="valueLabels"){if(i<0)return true;if(k>=c.valueLabels.length)return false;i=c.valueLabels[k]}else if(c.annoMethod==="values")if(g&&g.length){if(r)i=d._fromOADate(i);i=a.format(i,g)}else if(q&&b.id==="y")i=a.format(i,"p0");if(h.width)m=d.canvas.wij.wrapText(-100,-100,i,h.width,h.textAlign,f);else m=d._text(-100,-100,i).attr(f);n=m.wijGetBBox();if(!d._isVertical(p)&&!l&&c.annoMethod==="valueLabels"){if(n.width>j)if(!m.attr().rotation){m.attr({rotation:-45});f.rotation=-45;b.textStyle={rotation:-45};n=m.wijGetBBox()}if(u===0&&m.attr().rotation&&m.attr().rotation===-45){o=m.clone();o.attr({rotation:0});n=o.wijGetBBox();if(Math.sqrt(2)*n.height>j){m.attr({rotation:-90});f.rotation=-90;b.textStyle={rotation:-90}}o.wijRemove();n=m.wijGetBBox()}}m.wijRemove();if(n.width>e.width)e.width=n.width;if(n.height>e.height)e.height=n.height;k++})}if(e.width<h.width)e.width=h.width;b.labelWidth=e.width;return e},_getMajorTickValues:function(a,b){var c=[];c=this._getTickValues(a.max,a.min,b.unitMajor,a.tprec,!a.isTime,b.autoMajor);return c},_getMinorTickValues:function(a,b){var c=[];c=this._getTickValues(a.max,a.min,b.unitMinor,a.tprec,!a.isTime,b.autoMinor);return c},_getTickValues:function(e,a,b,f,o,l){var h=this,i=[],n=a,d=0,g=0,m=0,k=0,c=0,j=0;try{if(b===0)i=[e,a];else{if(l){if(f+1<0)f=-1;else if(f+1>15)f=14;j=h.round(h._signedCeiling(a/b)*b,f+1);if(j<e)a=j;m=parseInt(h.round(e/b,5),10);k=parseInt(h.round(a/b,5),10);c=parseInt(m-k+1,10);if(c>1){g=k*b;if(g<a){c--;a+=b}g=a+(c-1)*b;if(g>e)c--}if(c<1){c=2;a=n;b=e-a}}else{c=parseInt((e-a)/b+1,10);if(c>1){g=a+(c-1)*b;if(g>e)c--}if(c<1){c=2;b=e-a}}for(d=0;d<c;d++)if(o)if(l)i[d]=h.round(a+d*b,f+1);else i[d]=a+d*b;else i[d]=a+d*b}}catch(p){}return i},_getTickRect:function(k,d,j,e){var c=d.compass,f=0,a=null,h=3,i=2,g=2,b={x:0,y:0,width:0,height:0};if(j){a=d.tickMajor.position;f=h*d.tickMajor.factor}else{a=d.tickMinor.position;f=i*d.tickMinor.factor}if(a==="none"||a==="inside"&&e)f=0;if(c==="east"||c==="west"){b={x:0,y:-1,width:f*g,height:g};if(c==="east"&&(a==="outside"||a==="cross"&&e)||c==="west"&&a==="inside")b.width+=2;else if(!e){if(a==="corss")b.width<<=1;b.width+=2}}else{b={x:-1,y:0,width:g,height:f*g};if(c==="south"&&(a==="outside"||a==="corss"&&e)||c==="north"&&a==="inside")b.height+=2;else if(!e){if(a==="cross")b.height<<=1;b.height+=2}}return b},_applyMargins:function(){var c=this,b=c.options,a=c.canvasBounds;a.startX+=b.marginLeft;a.endX-=b.marginRight;a.startY+=b.marginTop;a.endY-=b.marginBottom},_paintAxes:function(){var a=this;a._paintAxis(a.options.axis.x,a.axisInfo.x);a._paintAxis(a.options.axis.y,a.axisInfo.y)},_paintAxis:function(c,f){var g=this,z=g.options,b=g.canvasBounds,d={x:0,y:0,ox:0,oy:0},e={x:0,y:0,ox:0,oy:0},p=c.compass,j=2,n=true,y=null,m=[],s=[],t=[],k=f.max,l=f.min,H=c.unitMajor,I=c.unitMinor,G=c.tickMajor.position,w=c.tickMinor.position,x=f.offset,A=c.tickMajor.style,B=c.tickMinor.style,C=f.majorTickRect,D=f.minorTickRect,u=f.axisTextOffset,E=c.gridMajor,F=c.gridMinor,h=c.labels,q=0,v=[],r=0,i=c.annoFormatString,o=null;if(!i||i.length===0)i=f.annoFormatString;m=g._getMajorTickValues(f,c);if(w!=="none"){s=g._getMinorTickValues(f,c);t=g._resetMinorTickValues(s,m)}switch(p){case"south":d.x=b.startX;d.ox=b.startX;d.y=b.endY;d.oy=b.startY;e.x=b.endX;e.ox=b.endX;e.y=b.endY;e.oy=b.startY;n=false;break;case"north":d.x=b.startX;d.ox=b.startX;d.y=b.startY-j;d.oy=b.endY-j;e.x=b.endX;e.ox=b.endX;e.y=b.startY-j;e.oy=b.endY-j;n=false;break;case"east":d.x=b.endX;d.ox=b.startX;d.y=b.endY;d.oy=b.endY;e.x=b.endX;e.ox=b.startX;e.y=b.startY;e.oy=b.startY;break;case"west":d.x=b.startX-j;d.ox=b.endX;d.y=b.endY;d.oy=b.endY;e.x=b.startX-j;e.ox=b.endX;e.y=b.startY;e.oy=b.startY}if(c.visible){y=g.canvas.wij.line(d.x,d.y,e.x,e.y).attr(c.style);g.axisEles.push(y)}a.each(m,function(t,b){var j=b,s=f.isTime,n=z.is100Percent,m;if(b<l||b>k)return true;if(c.annoMethod==="valueLabels"){if(b<0)return true;if(r>=c.valueLabels.length)return false;j=c.valueLabels[r]}else if(c.annoMethod==="values")if(i&&i.length){if(s)j=g._fromOADate(b);j=a.format(j,i)}else if(n&&f.id==="y")j=a.format(b,"p0");o=a.extend(true,{},z.textStyle,c.textStyle,h.style,f.textStyle);m=g._paintMajorMinor(k,l,b,G,H,C,p,d,e,x,u,A,j,E,c.textVisible,o,h.textAlign,h.width?f.labelWidth:null);if(m){v.push(m);if(q<m.len)q=m.len}r++});!h.width&&a.each(v,function(d,c){var b=c.text,a=(c.len-q)/2;a=h.textAlign==="near"?a*-1:a;if(n)b.translate(a,0);else b.translate(0,a)});a.each(t,function(b,a){a>l&&a<k&&g._paintMajorMinor(k,l,a,w,I,D,p,d,e,x,u,B,null,F,c.textVisible,o,h.textAlign,h.width?f.labelWidth:null)});g._paintAxisText(c,f)},_paintAxisText:function(d,f){if(!d.text||d.text.length===0)return;var i=this,z=d.text,p=d.compass,x=d.alignment,k=i.canvasBounds,m=k.startX,n=k.startY,q=k.endX,r=k.endY,g=m,h=n,c=f.textBounds,o=i._isVertical(p),j=f.axisTextOffset,s=f.majorTickRect,y=d.tickMajor.position,e=o?s.width:s.height,b=null,l=null,w=0,v=0,u=0,t=0;b=a.extend(true,{},i.options.textStyle,d.textStyle);if(b["margin-top"])w=parseFloat(b["margin-top"]);if(b["margin-left"])v=parseFloat(b["margin-left"]);if(b["margin-right"])u=parseFloat(b["margin-right"]);if(b["margin-bottom"])t=parseFloat(b["margin-bottom"]);if(y==="cross")e=e/2;else if(y==="inside")e=0;if(o){switch(x){case"near":h=r-c.width/2;break;case"center":h=(n+r)/2;break;case"far":h=n+c.width/2}if(p==="west")g=m-(f.offset+j+e+c.height/2+u);else g=q+f.offset+j+e+c.height/2+v}else{switch(x){case"near":g=m+c.width/2;break;case"center":g=(m+q)/2;break;case"far":g=q-c.width/2}if(p==="north")h=n-(f.offset+j+e+c.height/2+t);else h=r+f.offset+j+e+c.height/2+w}l=i._text(g,h,z);i.axisEles.push(l);l.attr(b);o&&l.rotate(-90)},_resetMinorTickValues:function(a,d){for(var b=0,c=0,f=null,e=null,b=a.length-1;b>=0;b--){f=a[b];for(c=d.length-1;c>=0;c--){e=d[c];f===e&&a.splice(b,1)}}return a},_paintMajorMinor:function(E,t,F,e,H,b,p,q,C,m,h,w,z,s,G,B,A,i){var f=this,c=q.x,d=q.y,j=-1,l=-1,o=true,k=f.canvasBounds,D=null,u=null,x=[],r=[],n=null,y={"stroke-width":2},g=null,v=null;switch(p){case"south":if(e==="inside")d-=b.height;else if(e==="cross")d-=b.height/2;if(i)l=d+h+b.height;else l=d+h+b.height+m/2;o=false;break;case"west":if(e==="outside")c-=b.width;else if(e==="cross")c-=b.width/2;if(i)j=c-(h+m);else j=c-(h+m/2);break;case"north":if(e==="outside")d-=b.height;else if(e==="cross")d-=b.height/2;if(i)l=d-(h+m);else l=d-(h+m/2);o=false;break;case"east":if(e==="inside")c-=b.width;else if(e==="cross")c-=b.width/2;if(i)j=c+h+b.width;else j=c+h+b.width+m/2}if(o){d+=(F-t)/(E-t)*(C.y-q.y);if(s.visible)if(d!==k.startY&&p==="east"||d!==k.endY&&p==="west"){r=["M",k.startX,d,"H",k.endX];n=f.canvas.path(r.concat(" "));n.attr(s.style);f.axisEles.push(n)}l=d;if(e!=="none"){x=["M",c,d,"h",b.width];w["stroke-width"]=b.height}}else{c+=(F-t)/(E-t)*(C.x-q.x);if(s.visible)if(c!==k.startX&&p==="south"||c!==k.endX&&p==="north"){r=["M",c,k.startY,"V",k.endY];n=f.canvas.path(r.concat(" "));n.attr(s.style);f.axisEles.push(n)}if(i)j=c-i/2;else j=c;if(e!=="none"){x=["M",c,d,"v",b.height];w["stroke-width"]=b.width}}if(e!=="none"){u=f.canvas.path(x.concat(" "));y=a.extend(y,w);u.attr(y);f.axisEles.push(u)}if(z){if(i){g=f.canvas.wij.wrapText(j,l,z.toString(),i,A,B);o&&g.translate(0,-g.getBBox().height/2)}else{g=f._text(j,l,z.toString());g.attr(B)}f.axisEles.push(g);!G&&g.hide();if(A!=="center"){v=g.getBBox();D={text:g,len:o?v.width:v.height}}}return D},_paintPlotArea:function(){},_paintChartLabels:function(){var c=this,b=c.options.chartLabels;b&&b.length&&a.each(b,function(e,b){var d;b=a.extend(true,{compass:"east",attachMethod:"coordinate",attachMethodData:{seriesIndex:-1,pointIndex:-1,x:-1,y:-1},offset:0,visible:false,text:"",connected:false},b);if(b.visible){d=c._getChartLabelPointPosition(b);if(typeof d.x!=="number"||typeof d.y!=="number")return false;c._setChartLabel(b,d)}})},_getChartLabelPointPosition:function(){},_setChartLabel:function(d,e,o,l){var c=this,n=d.compass,k=c.options,m=a.extend(true,{},k.textStyle,k.chartLabelStyle),f=c._text(0,0,d.text).attr(m),h=d.offset,i=0,j=0,b=null,g=null;c.chartLabelEles.push(f);b=c._getCompassTextPosition(n,f.wijGetBBox(),h,e,o);if(h&&d.connected){g=c.canvas.path("M"+e.x+" "+e.y+"L"+b.endPoint.x+" "+b.endPoint.y);g.attr(l);c.chartLabelEles.push(g)}i=b.endPoint.x+b.offsetX;j=b.endPoint.y+b.offsetY;f.translate(i,j).toFront()},_getCompassTextPosition:function(g,b,h,f,a){var c=0,d=0,e={x:0,y:0};switch(g){case"east":a=0;break;case"west":a=180;break;case"north":a=90;break;case"south":a=270;break;case"northeast":a=45;break;case"northwest":a=135;break;case"southeast":a=315;break;case"southwest":a=225}if(a>=0&&a<45/2||a>675/2&&a<360)c=b.width/2;else if(a>=45/2&&a<135/2){c=b.width/2;d=b.height/-2}else if(a>=135/2&&a<225/2)d=b.height/-2;else if(a>=225/2&&a<315/2){c=b.width/-2;d=b.height/-2}else if(a>=315/2&&a<405/2)c=b.width/-2;else if(a>=405/2&&a<495/2){c=b.width/-2;d=b.height/2}else if(a>=495/2&&a<585/2)d=b.height/2;else{c=b.width/2;d=b.height/2}e=this.canvas.wij.getPositionByAngle(f.x,f.y,h,a);return{endPoint:e,offsetX:c,offsetY:d}},_getXSortedPoints:function(e){var b=e.data.x,f=[].concat(b),g=[].concat(e.data.y),d=[],c=b;if(b.length===0)return;function h(a,b){return a-b}if(typeof b[0]==="number")c=[].concat(b).sort(h);a.each(c,function(c,b){a.each(f,function(e,a){if(b===a){if(typeof a!=="number")a=c;d.push({x:a,y:g[e]});f.splice(e,1);g.splice(e,1);return false}})});return d},_bindLiveEvents:function(){},_unbindLiveEvents:function(){},_isBarChart:function(){return false},_isPieChart:function(){return false},_calculateParameters:function(c,f){var d=this,b=f.max,a=f.min,n=f.autoMax&&c.autoMax,o=f.autoMin&&c.autoMin,q=f.autoMajor&&c.autoMajor,r=f.autoMinor&&c.autoMinor,h=null,k=null,p=f.annoMethod==="valueLabels",g=0,i=0,j=0,e=0,l=0,m=c.isTime;if(n&&b!==Number.MIN_VALUE)if(c.id!=="x"&&d._isBarChart())if(b<0&&.5*(b-a)>-b)b=0;if(o&&a!==Number.MAX_VALUE)if(c.id!=="x"&&d._isBarChart())if(a>0&&.5*(b-a)>a)a=0;if(b===a){if(a!==0)a-=1;b+=1}e=b-a;if(m){h=f.annoFormatString;if(!h||h.length===0){h=d._getTimeDefaultFormat(b,a);c.annoFormatString=h}l=d._niceTimeUnit(0,h)}k=d._nicePrecision(e);c.tprec=k;if(n)if(m){i=d._roundTime(b,l,true);if(i<b)b=i+l;else b=i}else{i=d._precCeil(-k,b);if(typeof i==="number")b=i}if(o)if(m){j=d._roundTime(a,l,false);if(j>a)a=j-l;else a=j}else{j=d._precFloor(-k,a);if(typeof j==="number")a=j}c.max=b;c.min=a;c.axisAnno=h;c.tinc=l;if(q||r){e=b-a;d._calculateMajorMinor(f,c);g=f.unitMajor;if(n&&g!==0&&!m&&!p){e=b-parseInt(b/g,10)*g;if(e!==0){b+=g-e;b=d._precCeil(-k,b)}}if(o&&g!==0&&!m&&!p){e=a-parseInt(a/g,10)*g;if(e!==0){if(e<0)e+=g;a-=Math.abs(e);a=d._precFloor(-k,a)}}}c.max=b;c.min=a},_roundTime:function(j,f,d){var b=this,c=f,e=b._fromOADate(j),a,g,i,h;if(c>0){a={year:e.getFullYear(),month:e.getMonth(),day:e.getDate(),hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds()};if(c<b._tmInc.minute){a.second=b._tround(a.second,c,d);return b._getTimeAsDouble(a)}a.second=0;if(c<b._tmInc.hour){c/=b._tmInc.minute;a.minute=b._tround(a.minute,c,d);return b._getTimeAsDouble(a)}a.minute=0;if(c<b._tmInc.day){c/=b._tmInc.hour;a.hour=b._tround(a.hour,c,d);return b._getTimeAsDouble(a)}a.hour=0;if(c<b._tmInc.month){c/=b._tmInc.day;a.day=b._tround(a.day,c,d);return b._getTimeAsDouble(a)}a.day=1;if(c<b._tmInc.year){c/=b._tmInc.month;a.month=b._tround(a.month,c,d);return b._getTimeAsDouble(a)}a.month=0;c/=b._tmInc.year;a.year=b._tround(a.year,c,d);return b._getTimeAsDouble(a)}else{g=e;i=g-c;h=parseInt(i/f,10)*f;if(d&&h!==i)h+=f;g=c+h;return g}},_tround:function(c,a,d){var b=parseInt(c/a*a,10);if(d&&b!==c)b+=parseInt(a,10);return b},_getTimeAsDouble:function(a){var d=0,c=0,b=null;if(a.day<1){c=-1-a.day;a.day=1}else if(a.day>28){c=a.day-28;a.day=28}if(a.month<0){d=-1-a.day;a.month=0}else if(a.month>11){d=a.month-11;a.month=11}b=new Date(a.year,a.month,a.day,a.hour,a.minute,a.second);b.setDate(b.getDate()+c);b.setMonth(b.getMonth()+d);return this._toOADate(b)},_getTimeDefaultFormat:function(d,e){var c=this,b=d-e,a="s";if(b>2*c._tmInc.year)a="yyyy";else if(b>c._tmInc.year)a="MMM yy";else if(b>3*c._tmInc.month)a="MMM";else if(b>2*c._tmInc.week)a="MMM d";else if(b>2*c._tmInc.day)a="ddd d";else if(b>c._tmInc.day)a="ddd H:mm";else if(b>c._tmInc.hour)a="H:mm";else if(b>=1e3)a="H:mm:ss";return a},_niceTimeUnit:function(c,b){var d=this,a=c;a=d._niceTimeSpan(a,b);return a},_niceTimeSpan:function(f,e){var a=this,c=a._manualTimeInc(e),d=0,b=0;d=Math.ceil(f);if(d===0)return a._timeSpanFromTmInc(c);b=1;if(c<a._tmInc.minute){if(d<a._tmInc.minute){b=a._getNiceInc([1,2,5,10,15,30],d,c);if(b!==0)return b}c=a._tmInc.minute}if(c<a._tmInc.hour){if(d<a._tmInc.hour){b=a._getNiceInc([1,2,5,10,15,30],d,c);if(b!==0)return b}c=a._tmInc.hour}if(c<a._tmInc.day){if(d<a._tmInc.day){b=a._getNiceInc([1,3,6,12],d,c);if(b!==0)return b}c=a._tmInc.day}if(c<a._tmInc.month){if(d<a._tmInc.month){b=a._getNiceInc([1,2,7,14],d,c);if(b!==0)return b}c=a._tmInc.month}if(c<a._tmInc.year){if(d<a._tmInc.year){b=a._getNiceInc([1,2,3,4,6],d,c);if(b!==0)return b}c=a._tmInc.year}b=100*a._tmInc.year;if(d<b){b=a._getNiceInc([1,2,5,10,20,50],d,c);if(b===0)b=100*a._tmInc.year}return b},_getNiceInc:function(c,f,d){for(var b=0,a=0,e=c.length,b=0;b<e;b++){a=c[b]*d;if(f<=a)return a}return 0},_timeSpanFromTmInc:function(a){var b=1e3,d=a,c=1;if(a!==this._tmInc.maxtime)if(a>this._tmInc.tickf1)b=a;else{a+=7;while(d>0){c*=10;d--}b=c}return b},_manualTimeInc:function(a){var c=this,b=c._tmInc.second;if(!a||a.length===0)return b;if(a.indexOf("s")>=0)b=c._tmInc.second;else if(a.indexOf("m")>=0)b=c._tmInc.minute;else if(a.indexOf("h")>=0||a.indexOf("H")>=0)b=c._tmInc.hour;else if(a.indexOf("d")>=0)b=c._tmInc.day;else if(a.indexOf("M")>=0)b=c._tmInc.month;else if(a.indexOf("y")>=0)b=c._tmInc.year;return b},_tmInc:{tickf7:-7e3,tickf6:-6e3,tickf5:-5e3,tickf4:-4e3,tickf3:-3e3,tickf2:-2e3,tickf1:-1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:26784e5,year:31536e6,maxtime:2147483647},_niceTickNumber:function(a){if(parseFloat(a)===0)return a;else if(a<0)a=-a;var e=Math.log(a)/Math.log(10),d=parseInt(this._signedFloor(e),10),c=a/Math.pow(10,d),b=10;if(c<=1)b=1;else if(c<=2)b=2;else if(c<=5)b=5;return b*Math.pow(10,d)},_niceNumber:function(c,d,e){if(parseFloat(c)===0)return c;else if(c<0)c=-c;var b=c/Math.pow(10,d),a=10;if(e){if(b<1.5)a=1;else if(b<3)a=2;else if(b<7)a=5}else if(b<=1)a=1;else if(b<=2)a=2;else if(b<=5)a=5;return a*Math.pow(10,d)},_nicePrecision:function(a){if(a<=0||typeof a!=="number")return 0;var c=Math.log(a)/Math.log(10),b=parseInt(this._signedFloor(c),10),d=a/Math.pow(10,b);if(d<3)b=-b+1;return b},_precCeil:function(d,c){var b=Math.pow(10,d),a=c/b;a=Math.ceil(a);return a*b},_precFloor:function(d,c){var b=Math.pow(10,d),a=c/b;a=Math.floor(a);return a*b},_signedCeiling:function(a){return a<0?Math.floor(a):Math.ceil(a)},_signedFloor:function(a){return a<0?Math.ceil(a):Math.floor(a)},_getDataExtreme:function(){var a={txx:0,txn:0,tyx:0,tyn:0};this._getDataExtremes(a);if(a.txn>a.txx){a.txn=0;a.txx=1}return a},_getDataExtremes:function(b){var g=this,i=g.options,j=i.seriesList,l=i.stacked,k=i.is100Percent,e=i.axis,f=g.axisInfo,c=[],d=[],h=[];if(!j||j.length===0)return b;a.each(j,function(m,o){var e=o.data,k=0,i=0,j=[].concat(e.xy),n=j.length,f,h;c=[].concat(e.x);d=[].concat(e.y);if(e.xy&&n){c=[];d=[];while(i<n){c[k]=j[i];d[k]=j[i+1];i+=2;k++;e.x=c;e.y=d}}else if(!e.x){c=[];a.each(d,function(a){c.push(a)});e.x=c}l&&m>0&&a.each(d,function(a){if(a===0)return true;d[a]+=d[a-1]});f=g._getMinMaxValue(c);h=g._getMinMaxValue(d);if(m===0){b.txx=f.max;b.txn=f.min;b.tyx=h.max;b.tyn=h.min}else{if(b.txx<f.max)b.txx=f.max;if(b.txn>f.min)b.txn=f.min;if(b.tyx<h.max)b.tyx=h.max;if(b.tyn>h.min)b.tyn=h.min}});if(k){b.tyx=1;b.tyn=0}if(c.length)if(g._isDate(c[0]))f.x.isTime=true;else if(typeof c[0]!=="number"){a.each(c,function(b,a){h.push(a)});e.x.annoMethod="valueLabels";e.x.valueLabels=h;e.x.max=c.length-1;e.x.min=0;e.x.unitMajor=1;e.x.unitMinor=.5;f.x.autoMax=false;f.x.autoMin=false;f.x.autoMajor=false;f.x.autoMinor=false}if(d.length)if(typeof d[0]!=="number"){a.each(d,function(b,a){h.push(a)});e.y.annoMethod="valueLabels";e.y.valueLabels=h;e.x.max=d.length-1;e.x.min=0;e.y.unitMajor=1;e.x.unitMinor=.5;f.y.autoMax=false;f.y.autoMin=false;f.y.autoMajor=false;f.y.autoMinor=false}return b},_isDate:function(a){return typeof a==="object"&&a.constructor===Date},_getMinMaxValue:function(b){var d=this,a={min:0,max:0},c=0;if(!b.length)return;if(typeof b[0]!=="number")if(d._isDate(b[0])){a.min=b[0];a.max=b[0]}else{a.min=0;a.max=b.length-1;return a}else{a.min=b[0];a.max=b[0]}for(c=0;c<b.length;c++)if(b[c]<a.min)a.min=b[c];else if(b[c]>a.max)a.max=b[c];if(d._isDate(a.min)){a.min=d._toOADate(a.min);a.max=d._toOADate(a.max)}return a},_toOADate:function(b){return b-new Date(1900,0,1)+2*this._tmInc.day},_fromOADate:function(a){return new Date(a-2*this._tmInc.day+ +new Date(1900,0,1))},_isVertical:function(a){return a==="west"||a==="east"},_calculateMajorMinor:function(f,d){var b=this,A=b.options,n=b.canvasBounds,z=f.autoMajor,s=f.autoMinor,p=d.max,q=d.min,w=d.isTime,y=d.tinc,r=d.annoFormatString,t=null,u=null,g=null,h=null,l=null,k=null,o=null,j=null,m=null,e=p-q,x=0,v=0,i=0,c=0;if(z||s){m=a.extend(true,{},A.textStyle,f.textStyle,f.labels.style);if(w){t=a.format(b._fromOADate(p),r);u=a.format(b._fromOADate(q),r);l=b._text(-1e3,-1e3,t).attr(m);k=b._text(-1e3,-1e3,u).attr(m);g=l.wijGetBBox();h=k.wijGetBBox();l.wijRemove();k.wijRemove()}else{o=b._nicePrecision(e);j=o+1;if(j<0||j>15)j=0;l=b._text(-1e3,-1e3,b.round(p,j)).attr(m);k=b._text(-1e3,-1e3,b.round(q,j)).attr(m);g=l.wijGetBBox();h=k.wijGetBBox();l.wijRemove();k.wijRemove()}if(g.width<h.width)g.width=h.width;if(g.height<h.height)g.height=h.height;if(!b._isVertical(f.compass)){x=n.endX-n.startX-d.vOffset-d.axisTextOffset;c=x/g.width;if(Number.POSITIVE_INFINITY===c)i=0;else i=parseInt(c,10)}else{v=n.endY-n.startY-d.vOffset-d.axisTextOffset;c=v/g.height;if(Number.POSITIVE_INFINITY===c)i=0;else i=parseInt(c,10)}c=e;if(i>0){e/=i;if(w)if(e<y)c=y;else c=b._niceTimeUnit(e,d.annoFormatString);else{d.tprec=b._nicePrecision(e);c=b._niceNumber(2*e,-o,true);if(c<e)c=b._niceNumber(e,-o+1,false);if(c<e)c=b._niceTickNumber(e)}}f.unitMajor=c;if(s)f.unitMinor=f.unitMajor/2}},_getScaling:function(b,d,e,c){var a=d-e;if(a===0)a=1;if(b)a=-a;return c/a},_getTranslation:function(d,b,e,f,c){var a=0;if(d){a=b.y;a-=c*e}else{a=b.x;a-=c*f}return a},_isSVGElem:function(a){var b="http://www.w3.org/2000/svg";return a.nodeType===1&&a.namespaceURI===b},_addClass:function(d,b){var c=this;b=b||"";a.each(d,function(){if(c._isSVGElem(this)){var d=this;a.each(b.split(/\s+/),function(e,c){var b=d.className?d.className.baseVal:d.getAttribute("class");if(a.inArray(c,b.split(/\s+/))===-1){b+=(b?" ":"")+c;if(d.className)d.className.baseVal=b;else d.setAttribute("class",b)}})}else a(this).addClass(b)})}})})(jQuery);